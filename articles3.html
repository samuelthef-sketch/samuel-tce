<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Hiiii!!ü§ì">
  <meta name="keywords" content="blog and sammy">
  <meta name="author" content="Archive | Samuel Poblete">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f1">
  <link rel="stylesheet" href="main.css">
  <link rel="timeline" href="main2.css">
  <link rel="shortcut icon" href="https://scontent.fcrk1-3.fna.fbcdn.net/v/t39.30808-6/569318227_815115171102910_6784695468377695367_n.jpg?stp=cp6_dst-jpg_tt6&_nc_cat=106&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeHqVkKtxGbWXCPoPMbv6W9La9gLMJnOS_hr2Aswmc5L-IWg0742nI8Yp9Y2UMgLHmCBW_dUG2g_MeUYaIUabtAW&_nc_ohc=utqrP-50gysQ7kNvwGaYzC7&_nc_oc=AdlbKhGf2E5ic-njm9Ib2BqUk9IEPna9hcKCjRoul5t9QR7aFstddbsdiPvkqjJKf2k&_nc_zt=23&_nc_ht=scontent.fcrk1-3.fna&_nc_gid=3ErPb77U23QCBOb4ypfWVQ&oh=00_Afi8Zi9CG3ZF1oSZNwe5o_h9XQqp1i7LNb9qudI4dpWh-A&oe=691AAA09">
  <title>Archive | Samuel Poblete</title>
</head>

<div class="cover-card table-cell table-middle">
  
  <a href="index.html" class="home-button">üè† Home</a>
  

<body></body>>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        <div class="cover-card table-cell table-middle">
          <a href="/">
            <img src="https://raw.githubusercontent.com/samuelthef-sketch/photos/refs/heads/main/584309957_835681912379569_6329506271767137200_n.jpg" alt="" class="avatar">
          </a>
          
          <a href="/" class="author_name">Samuel Poblete</a>
          <span class="author_job">i create stuff mwehehe</span>
          <span class="author_bio mbm">Hiiii!!</span>
          
         <nav class="nav">
  <ul class="nav-list">
    <li class="nav-item"><a href="index.html">Home</a></li>
    <li class="nav-item"><a href="home.html">Archive</a></li>
    <li class="nav-item"><a href="categories.html">Categories</a></li>
    <li class="nav-item"><a href="about.html">About Me</a></li>
  </ul>
</nav>


          <script type="text/javascript">
            function gen_mail_to_link(hs, subject) {
              var lhs,rhs;
              var p = hs.split('@');
              lhs = p[0];
              rhs = p[1];
              document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
              document.write(":" + lhs + "@");
              document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
            }
          </script>
          <div class="social-links">
            <ul></ul>
          </div>
        </div>
      </div>
    </div>



          <script type="text/javascript">
            function gen_mail_to_link(hs, subject) {
              var lhs,rhs;
              var p = hs.split('@');
              lhs = p[0];
              rhs = p[1];
              document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
              document.write(":" + lhs + "@");
              document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
            }
          </script>
          <div class="social-links">
            <ul></ul>
          </div>
        </div>
      </div>
    </div>

<header class="post-header">
    <h1 title="Calculator library built on Kotlin." class="post-title"></h1>
    <span class="post-meta">
      <span class="post-date">
        6 MAY 2025
      </span>
      ‚Ä¢
      <span class="read-time" title="Estimated read time">
  
  
    8 mins read
  
</span>

    </span>

  </header>
  <article class="post-content">
    <h1 id="kotlincalculator">KotlinCalculator</h1>
<p>Calculator library built on Kotlin</p>

<p>The library uses a linear scanning approach with a linear time complexity, which makes it ideal for long-running calculations.</p>



<h2 id="gradle-setup">Gradle Setup</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>repositories {
    maven { url 'https://samuelsketch.io' }
}

dependencies {
    //replace $version_number with samuelsketch version above
    implementation 'com.github.jairrab:KotlinCalculator:$version_number'
}
</code></pre></div></div>
<h2 id="features">Features</h2>
<ul>
  <li>Supports both MDAS (Multiply/Divide/Add/Subtract) and non-MDAS operations</li>
  <li>You can initialize the calculator with a pre-defined double number</li>
  <li>Supports percent operation</li>
  <li>Supports running equation display</li>
  <li>Supports continous running equations</li>
  <li>Elegantly handles results and errors (such as divide by zero) through sealed class library callbacks
    <h2 id="usage">Usage</h2>
    <p>To get an instance of the <code class="language-plaintext highlighter-rouge">Calculator</code> library, call <code class="language-plaintext highlighter-rouge">Calculator.getInstance()</code> and pass a listener to receive calculator updates.</p>
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
      <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>

      <span class="kd">val</span> <span class="py">calculator</span> <span class="p">=</span> <span class="nc">Calculator</span><span class="p">.</span><span class="nf">getInstance</span> <span class="p">{</span> <span class="n">calculatorUpdate</span> <span class="p">-&gt;</span>
          <span class="k">when</span> <span class="p">(</span><span class="n">calculatorUpdate</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">is</span> <span class="nc">CalculatorUpdate</span><span class="p">.</span><span class="nc">Initializing</span> <span class="p">-&gt;</span> <span class="p">{</span>
                  <span class="c1">//returns an object of class type Initializing(val number: Double) </span>
              <span class="p">}</span>
              <span class="k">is</span> <span class="nc">CalculatorUpdate</span><span class="p">.</span><span class="nc">OnUpdate</span> <span class="p">-&gt;</span> <span class="p">{</span>
                  <span class="c1">//returns an object of class type OnUpdate(val key: String?, val entries: List&lt;String&gt;, val result: Double)</span>
                  <span class="nc">Log</span><span class="p">.</span><span class="nf">v</span><span class="p">(</span><span class="s">"CALC"</span><span class="p">,</span> <span class="s">"key: ${calculatorUpdate.key} | entries: ${calculatorUpdate.entries} | result: ${calculatorUpdate.result}"</span><span class="p">)</span>
              <span class="p">}</span>
              <span class="k">is</span> <span class="nc">CalculatorUpdate</span><span class="p">.</span><span class="nc">Error</span><span class="p">.</span><span class="nc">InvalidKey</span> <span class="p">-&gt;</span> <span class="p">{</span>
                  <span class="c1">//returns an object of class type InvalidKey(val invalidKeyType: InvalidKeyType)</span>
              <span class="p">}</span>
              <span class="k">is</span> <span class="nc">CalculatorUpdate</span><span class="p">.</span><span class="nc">Error</span><span class="p">.</span><span class="nc">DivideByZero</span> <span class="p">-&gt;</span> <span class="p">{</span>
                  <span class="c1">//returns an object of class type DivideByZero(val key: String?, val entries: List&lt;String&gt;)</span>
              <span class="p">}</span>
          <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
    <p>Additionally, you can provide additional parameters to get your <code class="language-plaintext highlighter-rouge">Calculator</code> instance. By default, the calculator returns an MDAS calculator, that is, it performs multiplication and division before addition and subtraction. It is similar to the following more explicit call:</p>
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Calculator</span><span class="p">.</span><span class="nf">getInstance</span><span class="p">(</span><span class="nc">CalculatorType</span><span class="p">.</span><span class="nc">BASIC_MDAS</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>To use a non-MDAS calculator, pass a <code class="language-plaintext highlighter-rouge">CalculatorType.BASIC_NON_MDAS</code> parameter:</p>
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Calculator</span><span class="p">.</span><span class="nf">getInstance</span><span class="p">(</span><span class="nc">CalculatorType</span><span class="p">.</span><span class="nc">BASIC_NON_MDAS</span><span class="p">,</span> <span class="n">initialNumber</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>The <code class="language-plaintext highlighter-rouge">initialNumber</code> parameter returns an instance of the calculator with the starting set to this number. This can be used when you want to launch your calculator with a starting number, such as in the case where you would like to edit an existing number.</p>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">Calculator.getInstance()</code> returns a <code class="language-plaintext highlighter-rouge">Calculator</code> interface that provides the following functions:</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">calculator</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">resetToNumber</span><span class="p">(</span><span class="n">number</span><span class="p">:</span><span class="nc">Double</span><span class="p">)</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressOne</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressTwo</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressThree</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressFour</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressFive</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressSix</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressSeven</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressEight</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressNine</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressZero</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressDecimal</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressPlus</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressMinus</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressMultiply</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressDivide</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressPercent</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">backSpace</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressEquals</span><span class="p">()</span>
</code></pre></div></div>
<p>You can also use the universal <code class="language-plaintext highlighter-rouge">press()</code> function:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>calculator.press(CalculatorButton.ONE)
calculator.press(CalculatorButton.TWO)
//etc
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">Calculator.Listener</code> receives updates when a calculator function is called. Here‚Äôs an example of a sequence of calculator operations with it‚Äôs resulting logs:</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">calculator</span> <span class="p">=</span> <span class="nc">Calculator</span><span class="p">.</span><span class="nf">getInstance</span><span class="p">(</span><span class="nc">CalculatorType</span><span class="p">.</span><span class="nc">BASIC_MDAS</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressOne</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressTwo</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressThree</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">backSpace</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressPlus</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressOne</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressThree</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressMultiply</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressTwo</span><span class="p">()</span>
<span class="n">calculator</span><span class="p">.</span><span class="nf">pressEquals</span><span class="p">()</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I/CalculatorLog: Key: initializing | Entries: [] | Result: 0.0
I/CalculatorLog: Key: 1 | Entries: [1] | Result: 1.0
I/CalculatorLog: Key: 2 | Entries: [12] | Result: 12.0
I/CalculatorLog: Key: 3 | Entries: [123] | Result: 123.0
I/CalculatorLog: Key: backspace | Entries: [12] | Result: 12.0
I/CalculatorLog: Key: + | Entries: [12, +] | Result: 12.0
I/CalculatorLog: Key: 1 | Entries: [12, +, 1] | Result: 13.0
I/CalculatorLog: Key: 3 | Entries: [12, +, 13] | Result: 25.0
I/CalculatorLog: Key: * | Entries: [12, +, 13, *] | Result: 25.0
I/CalculatorLog: Key: 2 | Entries: [12, +, 13, *, 2] | Result: 38.0
I/CalculatorLog: Key: = | Entries: [12, +, 13, *, 2, =] | Result: 38.0
</code></pre></div></div>
<p>The calculator is a pure Kotlin module library and does not have any Android dependency, thus you will need to provide a UI to call the and display the calculator functions.</p>
<h3 id="ui-sample">UI Sample</h3>
<p><img src="https://raw.githubusercontent.com/samuelthef-sketch/photos/refs/heads/main/calculator_ui_sample.png" alt="UI preview"></p>

  </article>
   <footer class="post-footer">
          <div class="share">
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://yourwebsite.com/flappybird.html" target="_blank"><i class="fa fa-facebook"></i></a>
            <a href="https://www.instagram.com/" target="_blank"><i class="fa fa-instagram"></i></a>
            <a href="https://www.tiktok.com/" target="_blank"><i class="fa fa-music"></i></a>
          </div>
         <footer class="footer">
    <p>¬© 2024 Samuel Poblete</p>
    <div class="social-share">
      <a href="https://www.facebook.com/samuel.nash.poblete/" class="https://www.facebook.com/samuel.nash.poblete/">Facebook</a>
      <a href="https://www.instagram.com/samuelxyc/" class="https://www.instagram.com/samuelxyc/">Instagram</a>
      <a href="https://www.tiktok.com/@aosterlosam" class="https://www.tiktok.com/@aosterlosam">Tiktok</a>
    </div>
  </footer>

</body>
