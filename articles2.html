<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Hiiii!!ü§ì">
  <meta name="keywords" content="blog and sammy">
  <meta name="author" content="Archive | Samuel Poblete">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f1">
  <link rel="stylesheet" href="main.css">
  <link rel="timeline" href="main2.css">
  <link rel="shortcut icon" href="https://scontent.fcrk1-3.fna.fbcdn.net/v/t39.30808-6/569318227_815115171102910_6784695468377695367_n.jpg?stp=cp6_dst-jpg_tt6&_nc_cat=106&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeHqVkKtxGbWXCPoPMbv6W9La9gLMJnOS_hr2Aswmc5L-IWg0742nI8Yp9Y2UMgLHmCBW_dUG2g_MeUYaIUabtAW&_nc_ohc=utqrP-50gysQ7kNvwGaYzC7&_nc_oc=AdlbKhGf2E5ic-njm9Ib2BqUk9IEPna9hcKCjRoul5t9QR7aFstddbsdiPvkqjJKf2k&_nc_zt=23&_nc_ht=scontent.fcrk1-3.fna&_nc_gid=3ErPb77U23QCBOb4ypfWVQ&oh=00_Afi8Zi9CG3ZF1oSZNwe5o_h9XQqp1i7LNb9qudI4dpWh-A&oe=691AAA09">
  <title>Archive | Samuel Poblete</title>
</head>

<div class="cover-card table-cell table-middle">

  <a href="index.html" class="home-button">üè† Home</a>

  
    
  

<body></body>>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        <div class="cover-card table-cell table-middle">
          <a href="/">
            <img src="https://raw.githubusercontent.com/samuelthef-sketch/photos/refs/heads/main/584309957_835681912379569_6329506271767137200_n.jpg" alt="" class="avatar">
          </a>
          
          <a href="/" class="author_name">Samuel Poblete</a>
          <span class="author_job">i create stuff mwehehe</span>
          <span class="author_bio mbm">Hiiii!!</span>
          
         <nav class="nav">
  <ul class="nav-list">
    <li class="nav-item"><a href="index.html">Home</a></li>
    <li class="nav-item"><a href="home.html">Archive</a></li>
    <li class="nav-item"><a href="categories.html">Categories</a></li>
    <li class="nav-item"><a href="about.html">About Me</a></li>
  </ul>
</nav>


          <script type="text/javascript">
            function gen_mail_to_link(hs, subject) {
              var lhs,rhs;
              var p = hs.split('@');
              lhs = p[0];
              rhs = p[1];
              document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
              document.write(":" + lhs + "@");
              document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
            }
          </script>
          <div class="social-links">
            <ul></ul>
          </div>
        </div>
      </div>
    </div>

    
    <div class="col s12 m9">
      <div class="post-listing">
        <article class="post-content">
          <p class="post-meta">
            <span class="post-date">12 FEBRUARY 2024</span> ‚Ä¢
            <span class="reading time">5 minutes read</span>
            <a class="post-cat" href="#">cv2</a>
            <a class="post-cat" href="#">YOLO</a>
            <span>/</span>
            <a class="post-cat" href="#">ultralytics</a>
          </p>

          <h1 class="post-title"> Smart Phone Detector</h1>
          <p>I capture myself video from a camera and feed each frame into an object detection model like <strong>YOLO</strong>, which identifies objects and outputs
             their locations and labels. I focus on detecting <strong>"Cell Phone"</strong>specially. Then I highlight it on the video or trigger a simple action, like logging or send an alert to one another
                when a phone is detected. This way, I can monitor for phones in real-time using computer vision.</p>

          <p><strong>Code:</strong></p>

          <div class="code-box">
<pre><code class="language-python">
import time
import cv2
import numpy as np
from ultralytics import YOLO

# --- CONFIG ---
MODEL_PATH = "yolo11s.pt"  # Use "yolo11n.pt" if your computer is slow
IMAGE_PATH = "0qj5nvmed27d1.jpeg"  # SpongeBob meme image file
TARGET_CLASSES = {"cell phone", "remote"}  # YOLO sometimes detects phone as remote
CONF_THRESHOLD = 0.4
COOLDOWN_SEC = 5.0
STREAK_REQUIRED = 15
MIN_BOX_AREA_RATIO = 0.05
# ---------------

def show_image(path: str, duration=5):
    """Display an image in a half-screen window for a set duration."""
    img = cv2.imread(path)
    if img is None:
        print(f"[ERROR] Could not load image: {path}")
        return

    
    try:
        import tkinter as tk
        root = tk.Tk()
        root.withdraw()
        screen_w = root.winfo_screenwidth()
        screen_h = root.winfo_screenheight()
        root.destroy()
    except Exception:
        screen_w, screen_h = 1920, 1080

    
    window_w = int(screen_w * 0.6)
    window_h = int(screen_h * 0.6)
    img = cv2.resize(img, (window_w, window_h))

   
    win = "Cellphone Detected!"
    cv2.namedWindow(win, cv2.WINDOW_NORMAL)
    cv2.resizeWindow(win, window_w, window_h)
    cv2.moveWindow(win, screen_w - window_w - 50, screen_h - window_h - 100)

    cv2.imshow(win, img)
    print(f"[INFO] Showing half-screen image: {path}")
    cv2.waitKey(duration * 1000)
    cv2.destroyWindow(win)

# Load YOLO model
model = YOLO(MODEL_PATH)
id2name = model.names
wanted_ids = {i for i, n in id2name.items() if n in TARGET_CLASSES}

# Start webcam
cap = cv2.VideoCapture(0)
if not cap.isOpened():
    raise RuntimeError("Could not open webcam")

print("[INFO] Press 'q' to quit")
last_trigger = 0
streak_hits = 0

while True:
    ret, frame = cap.read()
    if not ret:
        break

    H, W = frame.shape[:2]
    frame_area = float(H * W)

    results = model(frame, verbose=False)[0]
    annotated = results.plot()

    # Detection check
    hit = False
    if results.boxes and len(results.boxes) > 0:
        for (cls_id, conf, xyxy) in zip(results.boxes.cls.tolist(),
                                        results.boxes.conf.tolist(),
                                        results.boxes.xyxy.tolist()):
            if cls_id in wanted_ids and conf >= CONF_THRESHOLD:
                x1, y1, x2, y2 = xyxy
                box_area = max(0.0, (x2 - x1)) * max(0.0, (y2 - y1))
                if box_area / frame_area >= MIN_BOX_AREA_RATIO:
                    hit = True
                    break

    # Consecutive streak detection
    if hit:
        streak_hits += 1
    else:
        streak_hits = 0  

    now = time.time()
    if streak_hits >= STREAK_REQUIRED and (now - last_trigger) > COOLDOWN_SEC:
        last_trigger = now
        streak_hits = 0  
        print("[EVENT] Phone detected ‚Üí showing half-screen SpongeBob meme.")
        show_image(IMAGE_PATH)

    # Add text overlay if phone detected
    if hit:
        cv2.putText(annotated, "PHONE DETECTED!", (40, 60),
                    cv2.FONT_HERSHEY_SIMPLEX, 1.5, (0, 0, 255), 4, cv2.LINE_AA)

    cv2.imshow("No Cellphone Hehe", annotated)
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cap.release()
cv2.destroyAllWindows()

</code></pre>
</div>

          <p><strong>I‚Äôve designed it for real-time performance, so it can run continuously without lag. I implemented it in Python using OpenCV and PyTorch, but the concept is language-agnostic: integrating camera input, machine learning inference, and output handling.</p>
        </article>
        </div>

<div class="sample-ui">
  <img src="https://scontent.fcrk1-3.fna.fbcdn.net/v/t1.15752-9/580486279_3145495088958688_5908019860583357522_n.jpg?stp=dst-jpg_p480x480_tt6&_nc_cat=106&ccb=1-7&_nc_sid=0024fc&_nc_eui2=AeF4jOAj9nixPwy_6Ebo1CWwHFN7OoirOrccU3s6iKs6t6V-15AFZzDN0U9KOIcQ-o-wQ8llqbDTRblz2hd53LBn&_nc_ohc=sE3vji1zBg0Q7kNvwFTijii&_nc_oc=AdmtHZRyP7Qv8CxkqTnFoEQej-BNeLBa81Yndlkfb0AFlKOf8cWbtIP13b8xrcyDP1I&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.fcrk1-3.fna&oh=03_Q7cD3wGGEOD6-ZH8bBaKbjS5WAAg48kCowBPcwziH6yGI2dY1Q&oe=693D4735" alt="Sample UI">
  <p>Image</p>
</div>
        


        <footer class="post-footer">
          <div class="share">
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://yourwebsite.com/flappybird.html" target="_blank"><i class="fa fa-facebook"></i></a>
            <a href="https://www.instagram.com/" target="_blank"><i class="fa fa-instagram"></i></a>
            <a href="https://www.tiktok.com/" target="_blank"><i class="fa fa-music"></i></a>
          </div>
        <footer class="footer">
    <p>¬© 2024 Samuel Poblete</p>
    <div class="social-share">
      <a href="https://www.facebook.com/samuel.nash.poblete/" class="https://www.facebook.com/samuel.nash.poblete/">Facebook</a>
      <a href="https://www.instagram.com/samuelxyc/" class="https://www.instagram.com/samuelxyc/">Instagram</a>
      <a href="https://www.tiktok.com/@aosterlosam" class="https://www.tiktok.com/@aosterlosam">Tiktok</a>
    </div>
  </footer>

</body>
